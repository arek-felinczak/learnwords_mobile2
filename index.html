<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Learn words</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" type="text/css" href="css/style.css">
        <!-- Place favicon.ico in the root directory -->
    </head>
    <body>
        <div class="navbar navbar-inverse">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#categories">Learn words</a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#categories">Home</a></li>
                        <li><a id="currentCategoryNav" href="#category/1"> Journey </a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <li class="dropdown">
                            <a href="#options" class="dropdown-toggle" data-toggle="dropdown"> Options <b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Offline mode (todo)</a></li>
                                <li><a href="#repetition-list">Repetition list (todo)</a></li>
                                <li class="divider"></li>
                                <li class="dropdown-header">Speech engine</li>
                                <li><a href="#" onClick="window.localStorage['engineLink']=window.learnwordsConfig.diki;">Diki.pl</a></li>
                                <li><a href="#" onClick="window.localStorage['engineLink']=window.learnwordsConfig.forvo;">Forvo.pl</a></li>
                                <li class="divider"></li>
                                <li class="dropdown-header">Contribute</li>
                                <li><a href="#itemAddForm"> Add word </a></li>
                                <!--li><a href="#add-category-form">Add category (admin only)</a></li-->
                            </ul>
                        </li>
                    </ul>
                    <form class="navbar-form navbar-right">
                        <div class="form-group">
                            <input type="text" placeholder="search" class="form-control">
                        </div>
                        <button type="submit" class="btn btn-success"> search </button>
                    </form>
                </div><!--/.navbar-collapse -->
            </div>
        </div>
        <div class="container">
            <div id="CategoryListPanel" class='panel'>
                <section>
                    <h4 id="CategoryName"> Words list from category: </h4>
                        <div id="CategoryList">                           
                        </div>
                        <script id="categories-template" type="text/x-handlebars-template">
                            <table class="table">
                            {{#each categories}}
                                <tr>
                                <td><a href="#category/{{Id}}" onclick='AppRouter.CategoryId={{Id}};'> {{Name}} </a></td>
                                </tr>
                            {{/each}}
                            </table>
                       </script>
                </section>   	
            </div>  
            <div id="ItemsListPanel" class='panel'>
                <section>
                    <h4 id="CategoryNameHeader"></h4>
                    <div id="ItemsList">
                    </div>
                    <script id="items-template" type="text/x-handlebars-template">
                        <table class="table">
                        {{#each category}}
                        <tr>
                            <td>{{setIndex @index}}.</td>
                            <td>{{Word}}</td>
                            <td><a href="#item/{{CategoryId}}/{{Id}}/1">{{Translation1}}</a></td>
                            <td><a href="#item/{{CategoryId}}/{{Id}}/2">{{Translation2}}</a></td>
                            <td> <span class="glyphicon glyphicon-plus-sign"></span> </td>
                            <td> <span class="glyphicon glyphicon-remove-circle"></span> </td>
                        </tr>
                        {{/each}}
                        </table>
                    </script>
                </section>   	
            </div>
            <div id="ItemViev" class='panel'>
                <section>
                    <div class="row" style='margin: 0px'>
                        <ul id="itemPager" class="pager">
                            <li><a id="prev" href="#"> &larr; Previous </a></li>
                            <li><a id="next" href="#"> Next &rarr; </a></li>
                        </ul>
                        <iframe id='DictionaryItemView' src='' frameBorder="0" style="width:100%; min-height: 480px;"></iframe>	 
                    </div>        	
                </section>   	
            </div>
            <div id="ItemAddForm" class='panel'>
                <section>
                    <script id="itemsForm-template" type="text/x-handlebars-template">
                    <legend>Add new translation</legend>
                    <form role="form" class="form-horizontal">
                         <fieldset>
                            <div class="form-group">
                                <label for="Word" class="col-lg-2 control-label">Word:</label>
                                <div class="col-lg-10">
                                    <input type="text" id="Word" name="Word" class="form-control" value="{{Word}}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="Translation1" class="col-lg-2 control-label">Translation:</label>
                                <div class="col-lg-10">
                                    <input type="text" id="Translation1" name="Translation1" class="form-control" value="{{Translation1}}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="Translation2" class="col-lg-2 control-label">Translation:</label>
                                <div class="col-lg-10">
                                    <input type="text" id="Translation2" name="Translation2" class="form-control" value="{{Translation2}}"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="CategoryId" class="col-lg-2 control-label">Category:</label>
                                <div class="col-lg-10">
                                    <select id="CategoryId" class="form-control" name="CategoryId">
                                        <option value="0">Choose category</option>
                                        {{#each categories}}
                                        <option value="{{Id}}">{{Name}}</option>
                                        {{/each}}
                                    </select>
                                </div>
                             </div>
                         </fieldset>
                         <div class="form-group">
                             <div class="col-lg-offset-2 col-lg-10">
                                 <a href="#" class="btn btn-default save"> Save </a>
                                 <!--a href="#"  class="btn btn-default delete"> Delete </a-->
                             </div>
                         </div>
                         
                     </form>
                    </script>
                    <div class="row"></div>
                </section>   	
            </div>
        </div> <!-- /container -->
        <script type="text/javascript" src="js/lib/jquery-1.10.2.js"></script>
        <script type="text/javascript">
            window.learnwordsConfig = {
                restUrl: "http://vocabulary.cba.pl",
                diki: "http://www.diki.pl/slownik-angielskiego/?q={0}",
                forvo: "http://pl.forvo.com/word/{0}/#en"
            };
            if (!window.console) window.console = {};
            if (!window.localStorage['engineLink']) 
                window.localStorage['engineLink'] = window.learnwordsConfig.diki;
        </script>
        <script type="text/javascript" src="js/lib/underscore.js"></script> 
        <script type="text/javascript" src="js/lib/backbone.js"></script>
        <script type="text/javascript" src="js/lib/backbone.cacheit.js"></script>
        <script type="text/javascript" src="js/lib/handlebars.js"></script>
        <script type="text/javascript">
            Handlebars.registerHelper('setIndex', function(value){
                return Number(value + 1);
            });
        </script>
        <script type="text/javascript" src="js/lib/commons.js"></script>
        <script type="text/javascript" src="js/Model/category.js"></script> 
        <script type="text/javascript" src="js/Model/items.js"></script> 
        <script type="text/javascript" src="js/View/categoryView.js"></script>     
        <script type="text/javascript" src="js/View/itemsView.js"></script>
        <script type="text/javascript" src="js/View/itemView.js"></script>
        <script type="text/javascript" src="js/Model/vocabularyManager.js"></script>
        <script type="text/javascript" src="js/router.js"></script>
        <script type="text/javascript" src="bootstrap/js/bootstrap.js"></script>        
    </body>
</html>
